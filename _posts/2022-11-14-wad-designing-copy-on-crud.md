---
layout: post
title: "Web Application Design: designing a copy feature on a CRUD interface"
date: "2022-11-14 12:45-0500"
tags:
  - web-application-design
  - ruby-on-rails
---
```feature
Feature: Users may copy a Wat's attributes to a new Wat.
```

Today we're going to start looking into adding a "copy" feature to the
CRUD interface created using Ruby on Rails scaffolding&#x2013;see [a couple
of posts](/2022/11/01/wad-ruby-on-rails-scaffolding.html) back. We have to start with the high level survey of just two
impementations, and, to keep it brief, I'm only going to introduce the
complications to be explored and examined later.

<!-- more -->

Firstly, I didn't present the "abstract flow" for the Rails 7
scaffolding in [the last post](/2022/11/03/wad-ruby-on-rails-scaffolding_v7.html) so lets look at that right now.

<figure>
  <!-- Generated by graphviz version 7.0.1 (20221109.1506)
    -->
  <!-- Title: crud_flow_rails_7 Pages: 1 -->
  <svg width="190pt" height="189pt"
       viewBox="0.00 0.00 190.00 189.36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 185.36)">
       <title>crud_flow_rails_7</title>
       <polygon fill="white" stroke="none" points="-4,4 -4,-185.36 186,-185.36 186,4 -4,4"/>
      <!-- index -->
      <g id="node1" class="node">
        <title>index</title>
        <ellipse fill="none" stroke="black" cx="91" cy="-163.36" rx="30.59" ry="18"/>
        <text text-anchor="middle" x="91" y="-159.66" font-family="Times,serif" font-size="14.00">index</text>
      </g>
      <!-- new -->
      <g id="node2" class="node">
        <title>new</title>
        <ellipse fill="none" stroke="black" cx="27" cy="-91.36" rx="27" ry="18"/>
        <text text-anchor="middle" x="27" y="-87.66" font-family="Times,serif" font-size="14.00">new</text>
      </g>
      <!-- index&#45;&gt;new -->
      <g id="edge1" class="edge">
        <title>index:w&#45;&gt;new:n</title>
        <path fill="none" stroke="black" d="M59,-163.36C34.92,-163.36 28.57,-143.9 27.28,-120.64"/>
        <polygon fill="black" stroke="black" points="30.79,-120.78 27.04,-110.87 23.79,-120.95 30.79,-120.78"/>
      </g>
      <!-- show -->
      <g id="node3" class="node">
        <title>show</title>
        <ellipse fill="none" stroke="black" cx="91" cy="-19.36" rx="29.5" ry="18"/>
        <text text-anchor="middle" x="91" y="-15.66" font-family="Times,serif" font-size="14.00">show</text>
      </g>
      <!-- index&#45;&gt;show -->
      <g id="edge2" class="edge">
    <title>index&#45;&gt;show</title>
    <path fill="none" stroke="black" d="M86.42,-145.23C83.89,-121.35 83.57,-77.74 85.46,-48.9"/>
    <polygon fill="black" stroke="black" points="88.94,-49.31 86.28,-39.05 81.97,-48.73 88.94,-49.31"/>
      </g>
      <!-- new&#45;&gt;show -->
      <g id="edge3" class="edge">
        <title>new:s&#45;&gt;show:w</title>
        <path fill="none" stroke="black" d="M27,-73.36C27,-49.51 30.5,-27.29 48.7,-21.07"/>
        <polygon fill="black" stroke="black" points="49.14,-24.55 58.5,-19.58 48.09,-17.63 49.14,-24.55"/>
        <text text-anchor="middle" x="43.89" y="-3.8" font-family="Times,serif" font-size="14.00">create</text>
      </g>
      <!-- show&#45;&gt;index -->
      <g id="edge5" class="edge">
        <title>show&#45;&gt;index</title>
        <path fill="none" stroke="black" d="M95.59,-37.55C98.11,-61.46 98.43,-105.07 96.53,-133.89"/>
        <polygon fill="black" stroke="black" points="93.05,-133.46 95.71,-143.72 100.03,-134.05 93.05,-133.46"/>
        <text text-anchor="middle" x="121.17" y="-136.91" font-family="Times,serif" font-size="14.00">destroy</text>
      </g>
      <!-- edit -->
      <g id="node4" class="node">
        <title>edit</title>
        <ellipse fill="none" stroke="black" cx="155" cy="-91.36" rx="27" ry="18"/>
        <text text-anchor="middle" x="155" y="-87.66" font-family="Times,serif" font-size="14.00">edit</text>
      </g>
      <!-- show&#45;&gt;edit -->
      <g id="edge6" class="edge">
        <title>show&#45;&gt;edit</title>
        <path fill="none" stroke="black" d="M105,-35.66C113.45,-44.91 124.39,-56.88 133.88,-67.26"/>
        <polygon fill="black" stroke="black" points="131.08,-69.38 140.41,-74.39 136.24,-64.65 131.08,-69.38"/>
      </g>
      <!-- edit&#45;&gt;show -->
      <g id="edge4" class="edge">
        <title>edit:s&#45;&gt;show:e</title>
        <path fill="none" stroke="black" d="M155,-73.36C155,-49.51 151.5,-27.29 133.3,-21.07"/>
        <polygon fill="black" stroke="black" points="133.91,-17.63 123.5,-19.58 132.86,-24.55 133.91,-17.63"/>
        <text text-anchor="middle" x="138.11" y="-3.8" font-family="Times,serif" font-size="14.00">update</text>
      </g>
    </g>
  </svg>
</figure>

The requirement is to be able to create new resource based on the
attributes of an existing resource.

```feature
Feature: Users may copy a Wat's attributes to a new Wat.

  As a user, I want to be able to copy attributes from
  an existing Wat to a new Wat, and be able to edit
  the new Wat before it is persisted.
```

Of the possible ways to implement this, two strike me as immediately
preferable and here I want to try to understand my instincts about
them: why do I think they may be generally preferable and what would
make one preferable to the other.


# Copy as new query

~~~feature
Given A user visiting the view for Wat show
When the user follows the link to Wat copy
Then the user visits the view for Wat new
And the fields of Wat new are pre-filled with the copied Wat's values
~~~

The first idea is to allow the `new` view to accept parameters. There
will be a link from the `show` view to `new` such that an HTTP request
like this will get made:

    GET /wats/new?name=waat

The controller action for `WatsController#new` will render the new
form with the fields pre-populated with the parameters provided. The
user can change the fields if they want, then submit a the form. The
abstract flow of this implementation looks like this:

<figure>
  <!-- Generated by graphviz version 7.0.1 (20221109.1506)
    -->
  <!-- Title: crud_flow_copy_as_new_query Pages: 1 -->
  <svg width="190pt" height="189pt"
       viewBox="0.00 0.00 190.00 189.36" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 185.36)">
      <title>crud_flow_copy_as_new_query</title>
      <polygon fill="white" stroke="none" points="-4,4 -4,-185.36 186,-185.36 186,4 -4,4"/>
      <!-- index -->
      <g id="node1" class="node">
    <title>index</title>
    <ellipse fill="none" stroke="black" cx="91" cy="-163.36" rx="30.59" ry="18"/>
    <text text-anchor="middle" x="91" y="-159.66" font-family="Times,serif" font-size="14.00">index</text>
      </g>
      <!-- new -->
      <g id="node2" class="node">
    <title>new</title>
    <ellipse fill="none" stroke="black" cx="27" cy="-91.36" rx="27" ry="18"/>
    <text text-anchor="middle" x="27" y="-87.66" font-family="Times,serif" font-size="14.00">new</text>
      </g>
      <!-- index&#45;&gt;new -->
      <g id="edge1" class="edge">
    <title>index:w&#45;&gt;new:n</title>
    <path fill="none" stroke="black" d="M59,-163.36C34.92,-163.36 28.57,-143.9 27.28,-120.64"/>
    <polygon fill="black" stroke="black" points="30.79,-120.78 27.04,-110.87 23.79,-120.95 30.79,-120.78"/>
      </g>
      <!-- show -->
      <g id="node3" class="node">
    <title>show</title>
    <ellipse fill="none" stroke="black" cx="91" cy="-19.36" rx="29.5" ry="18"/>
    <text text-anchor="middle" x="91" y="-15.66" font-family="Times,serif" font-size="14.00">show</text>
      </g>
      <!-- index&#45;&gt;show -->
      <g id="edge2" class="edge">
    <title>index&#45;&gt;show</title>
    <path fill="none" stroke="black" d="M86.42,-145.23C83.89,-121.35 83.57,-77.74 85.46,-48.9"/>
    <polygon fill="black" stroke="black" points="88.94,-49.31 86.28,-39.05 81.97,-48.73 88.94,-49.31"/>
      </g>
      <!-- new&#45;&gt;show -->
      <g id="edge3" class="edge">
    <title>new:s&#45;&gt;show:w</title>
    <path fill="none" stroke="black" d="M27,-73.36C27,-49.51 30.5,-27.29 48.7,-21.07"/>
    <polygon fill="black" stroke="black" points="49.14,-24.55 58.5,-19.58 48.09,-17.63 49.14,-24.55"/>
    <text text-anchor="middle" x="43.89" y="-3.8" font-family="Times,serif" font-size="14.00">create</text>
      </g>
      <!-- show&#45;&gt;index -->
      <g id="edge5" class="edge">
    <title>show&#45;&gt;index</title>
    <path fill="none" stroke="black" d="M95.59,-37.55C98.11,-61.46 98.43,-105.07 96.53,-133.89"/>
    <polygon fill="black" stroke="black" points="93.05,-133.46 95.71,-143.72 100.03,-134.05 93.05,-133.46"/>
    <text text-anchor="middle" x="121.17" y="-136.91" font-family="Times,serif" font-size="14.00">destroy</text>
      </g>
      <!-- show&#45;&gt;new -->
      <g id="edge7" class="edge">
    <title>show&#45;&gt;new</title>
    <path fill="none" stroke="black" d="M77,-35.66C68.55,-44.91 57.61,-56.88 48.12,-67.26"/>
    <polygon fill="black" stroke="black" points="45.76,-64.65 41.59,-74.39 50.92,-69.38 45.76,-64.65"/>
    <text text-anchor="middle" x="63.55" y="-70.78" font-family="Times,serif" font-size="14.00">copy</text>
      </g>
      <!-- edit -->
      <g id="node4" class="node">
    <title>edit</title>
    <ellipse fill="none" stroke="black" cx="155" cy="-91.36" rx="27" ry="18"/>
    <text text-anchor="middle" x="155" y="-87.66" font-family="Times,serif" font-size="14.00">edit</text>
      </g>
      <!-- show&#45;&gt;edit -->
      <g id="edge6" class="edge">
    <title>show&#45;&gt;edit</title>
    <path fill="none" stroke="black" d="M105,-35.66C113.45,-44.91 124.39,-56.88 133.88,-67.26"/>
    <polygon fill="black" stroke="black" points="131.08,-69.38 140.41,-74.39 136.24,-64.65 131.08,-69.38"/>
      </g>
      <!-- edit&#45;&gt;show -->
      <g id="edge4" class="edge">
    <title>edit:s&#45;&gt;show:e</title>
    <path fill="none" stroke="black" d="M155,-73.36C155,-49.51 151.5,-27.29 133.3,-21.07"/>
    <polygon fill="black" stroke="black" points="133.91,-17.63 123.5,-19.58 132.86,-24.55 133.91,-17.63"/>
    <text text-anchor="middle" x="138.11" y="-3.8" font-family="Times,serif" font-size="14.00">update</text>
      </g>
    </g>
  </svg>
</figure>

This approach has a certain elegance: I see a pleasing symmetry in the
abstract design, it's minimal in implementation steps because those
steps make good use of the existing actions, and it just seems like
it's "the simplest thing that could possibly work."

There's a couple of questions to ask before implementing a feature
like this and, hopefully they're covered in the feature's
specifications, but if not, one has to ask one of them.

So, is that something users would expect? Look at the workflow:

<figure>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="140px" preserveAspectRatio="none" style="width:492px;height:140px;background:#FFFFFF;" version="1.1" viewBox="0 0 492 140" width="492px" zoomAndPan="magnify"><defs/><g><ellipse cx="16" cy="70.5" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="85" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="275" x="46.5" y="28"/><image height="66" width="256" x="56.5" xlink:href="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjY2IiB3aWR0aD0iMjU2IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiA+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJ3aWR0aDoyNTZweDtoZWlnaHQ6NjZweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiAvPiA8dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzgiIHg9IjciIHk9IjE4LjYwMTYiPk5hbWU6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSI0NyIgeT0iMTguNjAxNiI+d2FhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0LWRlY29yYXRpb249InVuZGVybGluZSIgdGV4dExlbmd0aD0iNzAiIHg9IjYiIHk9IjM1LjczNDQiPkVkaXQgdGhpcyB3YXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNCIgeD0iODAiIHk9IjM1LjczNDQiPnw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9Ijc3IiB4PSI4OCIgeT0iMzUuNzM0NCI+Q29weSB0aGlzIHdhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0IiB4PSIxNjkiIHk9IjM1LjczNDQiPnw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjcyIiB4PSIxNzciIHk9IjM1LjczNDQiPkJhY2sgdG8gd2F0czwvdGV4dD48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjE4LjEzMjgiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjU7IiB3aWR0aD0iMTMyIiB4PSI4LjUiIHk9IjQyLjc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MiIgeD0iMjguNSIgeT0iNTYuMzY3MiI+RGVzdHJveSB0aGlzIHdhdDwvdGV4dD48IS0tTUQ1PVtiMDBhZTgxOTJmMzY3MDU3YTBhMWJhOTVjODRmNWU4Ml0KQHN0YXJ0dW1sDQpzYWx0DQp7DQp7DQo8Yj5OYW1lOiB8IHdhYXQNCn0NCjx1PkVkaXQgdGhpcyB3YXQ8L3U+IDxVKzAwN2M+IDx1PkNvcHkgdGhpcyB3YXQ8L3U+IDxVKzAwN2M+IDx1PkJhY2sgdG8gd2F0czwvdT4NCltEZXN0cm95IHRoaXMgd2F0XQ0KfQ0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIyLjEyKFN1biBPY3QgMjMgMTQ6MTI6MjYgRURUIDIwMjIpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBPcGVuSkRLIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBPcGVuSkRLIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" y="38"/><rect fill="#F1F1F1" height="127" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="117" x="369.5" y="7"/><image height="108" width="98" x="379.5" xlink:href="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwOCIgd2lkdGg9Ijk4IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiA+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJ3aWR0aDo5OHB4O2hlaWdodDoxMDhweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiAvPiA8dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NyIgeD0iNiIgeT0iMjEuNDY4OCI+TmV3IFdhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNCIgeD0iNyIgeT0iMzkuNDQ1MyI+TmFtZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyNyIgeD0iMTAiIHk9IjU1LjU3ODEiPndhYXQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iOCIgeDI9IjkxIiB5MT0iNTguMTA5NCIgeTI9IjU4LjEwOTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI4IiB4Mj0iOCIgeTE9IjU1LjEwOTQiIHkyPSI1Ny4xMDk0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iOTEiIHgyPSI5MSIgeTE9IjU1LjEwOTQiIHkyPSI1Ny4xMDk0Ii8+PHJlY3QgZmlsbD0iI0VFRUVFRSIgaGVpZ2h0PSIxOC4xMzI4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6Mi41OyIgd2lkdGg9Ijg0IiB4PSI4LjUiIHk9IjY1LjYwOTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MyIgeD0iMTkiIHk9Ijc5LjIxMDkiPkNyZWF0ZSBXYXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjcyIiB4PSI2IiB5PSI5OS44NDM4Ij5CYWNrIHRvIHdhdHM8L3RleHQ+PCEtLU1ENT1bOTVjOTRjMTgxOTFiYTA5MjA4YmY4MGMxNzcyZjlhMTVdCkBzdGFydHVtbA0Kc2FsdA0Kew0KPHNpemU6MTY+TmV3IFdhdDwvc2l6ZT4NCnsNCk5hbWUNCiJ3YWF0ICAgICAgIg0KfQ0KW0NyZWF0ZSBXYXRdDQo8dT5CYWNrIHRvIHdhdHM8L3U+DQp9DQpAZW5kdW1sDQoKUGxhbnRVTUwgdmVyc2lvbiAxLjIwMjIuMTIoU3VuIE9jdCAyMyAxNDoxMjoyNiBFRFQgMjAyMikKKEdQTCBzb3VyY2UgZGlzdHJpYnV0aW9uKQpKYXZhIFJ1bnRpbWU6IE9wZW5KREsgUnVudGltZSBFbnZpcm9ubWVudApKVk06IE9wZW5KREsgNjQtQml0IFNlcnZlciBWTQpEZWZhdWx0IEVuY29kaW5nOiBVVEYtOApMYW5ndWFnZTogZW4KQ291bnRyeTogVVMKLS0+PC9nPjwvc3ZnPg==" y="17"/><!--MD5=[792595e63416f1b6dc557ad4b4059315]
link start to show--><g id="link_start_show"><path d="M26.17,70.5 C30.76,70.5 35.36,70.5 39.95,70.5 " fill="none" id="start-to-show" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="44.7,70.5,35.7,66.5,39.7,70.5,35.7,74.5,44.7,70.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[44e545161a01273316e1418c1593a932]
link show to new--><g id="link_show_new"><path d="M321.69,70.5 C335.99,70.5 350.01,70.5 362.92,70.5 " fill="none" id="show-to-new" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="367.66,70.5,358.66,66.5,362.66,70.5,358.66,74.5,367.66,70.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="332.5" y="65.1348">copy</text></g><!--MD5=[ea4bbbe208f6ea53e662ce5cecfc56db]
@startuml
!unquoted procedure VIEW($view)
"{ {
salt
%invoke_procedure("_"+$view)
} }" as $view
!endprocedure

!unquoted procedure FORM($action, $field)
{
Name
$field
}
[$action Wat]
!endprocedure

!unquoted procedure MODEL($field)
{
<b>Name: | $field
}
!endprocedure

!procedure _new()
{
<size:16>New Wat</size>
FORM("Create", '"waat      "')
<u>Back to wats</u>
}
!endprocedure

!procedure _show()
{
MODEL(waat)
<u>Edit this wat</u> <U+007c> <u>Copy this wat</u> <U+007c> <u>Back to wats</u>
[Destroy this wat]
}
!endprocedure

(*) -right-> VIEW(show)

show -right-> [copy] VIEW(new)
@enduml

PlantUML version 1.2022.12(Sun Oct 23 14:12:26 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
</figure>

Does that seem right? Although, it seems "logical" to me, I have to
admit, it might not seem that logical to others. Maybe it would be
helpful to have some indication that we were copying an object and not
creating one *ex nihilo*? We could detect the parameters being sent
and change the headline on the page, however that would introduce
either logic in the view or maybe the controller action would have to
determine the headline and pass it to view&#x2013;both undesirable
complications.

For me, things fundamentally break down if there is a need for
representing the original object on the copy form or if the copy
feature needs to create a relationship between the original and
copy. Once one of the parameters for an action is an identifier for
an action's resource, we ought to consider changing from a
"collection" route to a "member" route. There's no view to reuse that
would make any sense here, we'll have to make a new one.


# Copy as view

~~~feature
Given A user visiting the view for Wat show
When the user follows the link to Wat copy
Then the user visits the view for Wat copy
And the fields of Wat copy are pre-filled with the copied Wat's values
And the user can see information about the Wat they want to copy.
~~~

The other idea is to create a dedicated view for copying. The request
for it would be:

    GET /wats/{id}/copy

The Wat copy view would combine aspects of the forms of the `new` and
`edit` views, presenting a form whose action is `POST` and whose
fields are all prepopulated with values from the `Wat` identified in
the URL. Other representations of the original `Wat` could also be
made available, in the header, or a link back to it's `show` view.

The abstract flow for this implementation looks like this:

<figure>
  <!-- Generated by graphviz version 7.0.1 (20221109.1506)
    -->
  <!-- Title: crud_flow_copy_as_view Pages: 1 -->
  <svg width="190pt" height="260pt"
       viewBox="0.00 0.00 190.00 260.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 256)">
      <title>crud_flow_copy_as_view</title>
      <polygon fill="white" stroke="none" points="-4,4 -4,-256 186,-256 186,4 -4,4"/>
      <!-- index -->
      <g id="node1" class="node">
    <title>index</title>
    <ellipse fill="none" stroke="black" cx="91" cy="-234" rx="30.59" ry="18"/>
    <text text-anchor="middle" x="91" y="-230.3" font-family="Times,serif" font-size="14.00">index</text>
      </g>
      <!-- new -->
      <g id="node2" class="node">
    <title>new</title>
    <ellipse fill="none" stroke="black" cx="27" cy="-162" rx="27" ry="18"/>
    <text text-anchor="middle" x="27" y="-158.3" font-family="Times,serif" font-size="14.00">new</text>
      </g>
      <!-- index&#45;&gt;new -->
      <g id="edge1" class="edge">
    <title>index:w&#45;&gt;new:n</title>
    <path fill="none" stroke="black" d="M59,-234C34.92,-234 28.57,-214.55 27.28,-191.28"/>
    <polygon fill="black" stroke="black" points="30.79,-191.42 27.04,-181.51 23.79,-191.6 30.79,-191.42"/>
      </g>
      <!-- show -->
      <g id="node3" class="node">
    <title>show</title>
    <ellipse fill="none" stroke="black" cx="91" cy="-90" rx="29.5" ry="18"/>
    <text text-anchor="middle" x="91" y="-86.3" font-family="Times,serif" font-size="14.00">show</text>
      </g>
      <!-- index&#45;&gt;show -->
      <g id="edge2" class="edge">
    <title>index&#45;&gt;show</title>
    <path fill="none" stroke="black" d="M86.42,-215.87C83.89,-191.99 83.57,-148.38 85.46,-119.54"/>
    <polygon fill="black" stroke="black" points="88.94,-119.95 86.28,-109.7 81.97,-119.37 88.94,-119.95"/>
      </g>
      <!-- new&#45;&gt;show -->
      <g id="edge3" class="edge">
    <title>new:s&#45;&gt;show:w</title>
    <path fill="none" stroke="black" d="M27,-144C27,-120.16 30.5,-97.94 48.7,-91.72"/>
    <polygon fill="black" stroke="black" points="49.14,-95.19 58.5,-90.23 48.09,-88.27 49.14,-95.19"/>
    <text text-anchor="middle" x="53.63" y="-102.6" font-family="Times,serif" font-size="14.00">create</text>
      </g>
      <!-- show&#45;&gt;index -->
      <g id="edge5" class="edge">
    <title>show&#45;&gt;index</title>
    <path fill="none" stroke="black" d="M95.59,-108.19C98.11,-132.1 98.43,-175.72 96.53,-204.53"/>
    <polygon fill="black" stroke="black" points="93.05,-204.11 95.71,-214.36 100.03,-204.69 93.05,-204.11"/>
    <text text-anchor="middle" x="121.17" y="-207.55" font-family="Times,serif" font-size="14.00">destroy</text>
      </g>
      <!-- edit -->
      <g id="node4" class="node">
    <title>edit</title>
    <ellipse fill="none" stroke="black" cx="155" cy="-162" rx="27" ry="18"/>
    <text text-anchor="middle" x="155" y="-158.3" font-family="Times,serif" font-size="14.00">edit</text>
      </g>
      <!-- show&#45;&gt;edit -->
      <g id="edge6" class="edge">
    <title>show&#45;&gt;edit</title>
    <path fill="none" stroke="black" d="M105,-106.31C113.45,-115.56 124.39,-127.52 133.88,-137.9"/>
    <polygon fill="black" stroke="black" points="131.08,-140.02 140.41,-145.04 136.24,-135.3 131.08,-140.02"/>
      </g>
      <!-- copy -->
      <g id="node5" class="node">
    <title>copy</title>
    <ellipse fill="none" stroke="black" cx="90" cy="-18" rx="27.9" ry="18"/>
    <text text-anchor="middle" x="90" y="-14.3" font-family="Times,serif" font-size="14.00">copy</text>
      </g>
      <!-- show&#45;&gt;copy -->
      <g id="edge8" class="edge">
    <title>show&#45;&gt;copy</title>
    <path fill="none" stroke="black" d="M90.75,-71.7C90.65,-64.41 90.52,-55.73 90.41,-47.54"/>
    <polygon fill="black" stroke="black" points="93.91,-47.57 90.27,-37.62 86.91,-47.67 93.91,-47.57"/>
      </g>
      <!-- edit&#45;&gt;show -->
      <g id="edge4" class="edge">
    <title>edit:s&#45;&gt;show:e</title>
    <path fill="none" stroke="black" d="M155,-144C155,-120.16 151.5,-97.94 133.3,-91.72"/>
    <polygon fill="black" stroke="black" points="133.91,-88.27 123.5,-90.23 132.86,-95.19 133.91,-88.27"/>
    <text text-anchor="middle" x="138.11" y="-74.44" font-family="Times,serif" font-size="14.00">update</text>
      </g>
      <!-- copy&#45;&gt;show -->
      <g id="edge7" class="edge">
    <title>copy:w&#45;&gt;show:w</title>
    <path fill="none" stroke="black" d="M61,-18C33.12,-18 28.77,-72.63 49.26,-86.72"/>
    <polygon fill="black" stroke="black" points="47.97,-89.98 58.55,-89.56 50.01,-83.29 47.97,-89.98"/>
      </g>
    </g>
  </svg>
</figure>

Does the navigation make sense to users? Here's an activity diagram
which includes a prospective UI.

<figure>
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="140px" preserveAspectRatio="none" style="width:568px;height:140px;background:#FFFFFF;" version="1.1" viewBox="0 0 568 140" width="568px" zoomAndPan="magnify"><defs/><g><ellipse cx="16" cy="70.5" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="85" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="275" x="46.5" y="28"/><image height="66" width="256" x="56.5" xlink:href="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjY2IiB3aWR0aD0iMjU2IiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiA+PGRlZnMvPjxnPjxyZWN0IGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJ3aWR0aDoyNTZweDtoZWlnaHQ6NjZweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiAvPiA8dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzgiIHg9IjciIHk9IjE4LjYwMTYiPk5hbWU6PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSI0NyIgeT0iMTguNjAxNiI+d2FhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0LWRlY29yYXRpb249InVuZGVybGluZSIgdGV4dExlbmd0aD0iNzAiIHg9IjYiIHk9IjM1LjczNDQiPkVkaXQgdGhpcyB3YXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNCIgeD0iODAiIHk9IjM1LjczNDQiPnw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9Ijc3IiB4PSI4OCIgeT0iMzUuNzM0NCI+Q29weSB0aGlzIHdhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0IiB4PSIxNjkiIHk9IjM1LjczNDQiPnw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dC1kZWNvcmF0aW9uPSJ1bmRlcmxpbmUiIHRleHRMZW5ndGg9IjcyIiB4PSIxNzciIHk9IjM1LjczNDQiPkJhY2sgdG8gd2F0czwvdGV4dD48cmVjdCBmaWxsPSIjRUVFRUVFIiBoZWlnaHQ9IjE4LjEzMjgiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjU7IiB3aWR0aD0iMTMyIiB4PSI4LjUiIHk9IjQyLjc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MiIgeD0iMjguNSIgeT0iNTYuMzY3MiI+RGVzdHJveSB0aGlzIHdhdDwvdGV4dD48IS0tTUQ1PVtiMDBhZTgxOTJmMzY3MDU3YTBhMWJhOTVjODRmNWU4Ml0KQHN0YXJ0dW1sDQpzYWx0DQp7DQp7DQo8Yj5OYW1lOiB8IHdhYXQNCn0NCjx1PkVkaXQgdGhpcyB3YXQ8L3U+IDxVKzAwN2M+IDx1PkNvcHkgdGhpcyB3YXQ8L3U+IDxVKzAwN2M+IDx1PkJhY2sgdG8gd2F0czwvdT4NCltEZXN0cm95IHRoaXMgd2F0XQ0KfQ0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIyLjEyKFN1biBPY3QgMjMgMTQ6MTI6MjYgRURUIDIwMjIpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBPcGVuSkRLIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBPcGVuSkRLIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" y="38"/><rect fill="#F1F1F1" height="127" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="193" x="369.5" y="7"/><image height="108" width="174" x="379.5" xlink:href="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwOCIgd2lkdGg9IjE3NCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRkZGRkZGIiBzdHlsZT0id2lkdGg6MTc0cHg7aGVpZ2h0OjEwOHB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIC8+IDx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NCIgeD0iNiIgeT0iMjEuNDY4OCI+Q29weWluZyBXYXQ6IHdhYXQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQiIHg9IjciIHk9IjM5LjQ0NTMiPk5hbWU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjciIHg9IjEwIiB5PSI1NS41NzgxIj53YWF0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjgiIHgyPSI5MSIgeTE9IjU4LjEwOTQiIHkyPSI1OC4xMDk0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iOCIgeDI9IjgiIHkxPSI1NS4xMDk0IiB5Mj0iNTcuMTA5NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjkxIiB4Mj0iOTEiIHkxPSI1NS4xMDk0IiB5Mj0iNTcuMTA5NCIvPjxyZWN0IGZpbGw9IiNFRUVFRUUiIGhlaWdodD0iMTguMTMyOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjIuNTsiIHdpZHRoPSI4NCIgeD0iOC41IiB5PSI2NS42MDk0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjMiIHg9IjE5IiB5PSI3OS4yMTA5Ij5DcmVhdGUgV2F0PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHQtZGVjb3JhdGlvbj0idW5kZXJsaW5lIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iNiIgeT0iOTkuODQzOCI+U2hvdyB0aGlzIHdhdDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0IiB4PSI4NyIgeT0iOTkuODQzOCI+fDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0LWRlY29yYXRpb249InVuZGVybGluZSIgdGV4dExlbmd0aD0iNzIiIHg9Ijk1IiB5PSI5OS44NDM4Ij5CYWNrIHRvIHdhdHM8L3RleHQ+PCEtLU1ENT1bZmNhYjczZTFhNDJlNDI0MDg0NTY1NmYwODM4MTJlMGFdCkBzdGFydHVtbA0Kc2FsdA0Kew0KPHNpemU6MTY+Q29weWluZyBXYXQ6IHdhYXQ8L3NpemU+DQp7DQpOYW1lDQoid2FhdCAgICAgICINCn0NCltDcmVhdGUgV2F0XQ0KPHU+U2hvdyB0aGlzIHdhdDwvdT4gPFUrMDA3Yz4gPHU+QmFjayB0byB3YXRzPC91Pg0KfQ0KQGVuZHVtbA0KClBsYW50VU1MIHZlcnNpb24gMS4yMDIyLjEyKFN1biBPY3QgMjMgMTQ6MTI6MjYgRURUIDIwMjIpCihHUEwgc291cmNlIGRpc3RyaWJ1dGlvbikKSmF2YSBSdW50aW1lOiBPcGVuSkRLIFJ1bnRpbWUgRW52aXJvbm1lbnQKSlZNOiBPcGVuSkRLIDY0LUJpdCBTZXJ2ZXIgVk0KRGVmYXVsdCBFbmNvZGluZzogVVRGLTgKTGFuZ3VhZ2U6IGVuCkNvdW50cnk6IFVTCi0tPjwvZz48L3N2Zz4=" y="17"/><!--MD5=[792595e63416f1b6dc557ad4b4059315]
link start to show--><g id="link_start_show"><path d="M26.17,70.5 C30.76,70.5 35.36,70.5 39.95,70.5 " fill="none" id="start-to-show" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="44.7,70.5,35.7,66.5,39.7,70.5,35.7,74.5,44.7,70.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c6c20899e66b389eae70b8911b782431]
link show to copy--><g id="link_show_copy"><path d="M321.7,70.5 C335.64,70.5 349.62,70.5 363.11,70.5 " fill="none" id="show-to-copy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="367.75,70.5,358.75,66.5,362.75,70.5,358.75,74.5,367.75,70.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="332.5" y="65.1348">copy</text></g><!--MD5=[cb8c95737344a0005a2c87fa6eb65668]
@startuml
!unquoted procedure VIEW($view)
"{ {
salt
%invoke_procedure("_"+$view)
} }" as $view
!endprocedure

!unquoted procedure FORM($action, $field)
{
Name
$field
}
[$action Wat]
!endprocedure

!unquoted procedure MODEL($field)
{
<b>Name: | $field
}
!endprocedure

!procedure _copy()
{
<size:16>Copying Wat: waat</size>
FORM("Create", '"waat      "')
<u>Show this wat</u> <U+007c> <u>Back to wats</u>
}
!endprocedure

!procedure _show()
{
MODEL(waat)
<u>Edit this wat</u> <U+007c> <u>Copy this wat</u> <U+007c> <u>Back to wats</u>
[Destroy this wat]
}
!endprocedure

(*) -right-> VIEW(show)

show -right-> [copy] VIEW(copy)
@enduml

PlantUML version 1.2022.12(Sun Oct 23 14:12:26 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
</figure>

I think this is an improvement, even if it's somewhat more work to set
up. Ruby on Rails conventions provide affordances in the form of
partials and view variables bound in the the controller that make
implementing a view like this less repetitive than it might be without
them.


# Summary and Questions

To generalize and conclude, we looked at two implementations of a copy
feature:

-   one that reused an existing interface enabling it to use parameters
    derived from the original object to copy, and
-   one that created a new interface with a single parameter designating
    the object to copy

and we considered how a requirement that the original object be
represented in the view, informed us that we should prefer creating
new interface to reusing an existing one for this feature.

There are a couple of paths forward. 

1.  I could look at the question of "why did I immediately dismiss
    other possible implementations prefering ones that only affected
    interfaces?" Gut instincts should sometimes be critically
    examined. If I had to rationalize it, I would say it was because
    view actions are "safe" and therefore we can add them more-or-less
    fearlessly. However it does possibly complicates the "unsafe"
    actions (`create`, `update`, `delete`). So &#x2026;
2.  If the feature required some special side effect for copying that
    wasn't required for creating, how would that affect the
    implementation? What kind of requirements suggest that we should
    create a new "unsafe" action? We should probably use a different
    example when we get to these questions.
3.  Requirements can be vague or poorly expressed. This one might have
    been written "user may click a button &#x2026;" which might suggest
    something else. I don't think it's reasonable to expect product
    owners to be as exacting as strictly necessary when defining new
    features, but there are, I think some critical questions to ask,
    kind of like we did here and that would be worth exploring.
4.  Both implementations require a way to extract the necessary
    attributes from the source object. I haven't thought about it much
    but this aspect&#x2013;mappings of objects to parameters&#x2013;seems like
    something worth investigating.
5.  I started a test repo, but I don't feel comfortable sharing it just
    yet, but when I do, I think looking at the actual implementations
    and the Rails features which smooth the way for each implementation
    are worth an appreciation post.

Anyway, that's at least some of what I'm thinking about for the next
posts.

